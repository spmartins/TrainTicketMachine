@{
    ViewData["Title"] = "Home Page";
}

@section Scripts {
    <script type="text/javascript">

        $("#btn_search").click(function () {

            var input = $("#txt_search").val() ;

            var token = $('input[name="__RequestVerificationToken"]', $('#bookForm')).val();
            var myData = { input: $("#txt_search").val() };

            $.ajax({
                url: "/Home/GetResultData",
                type: 'POST',
                dataType: 'JSON',
                data: myData,
                success: function (data) {
                    $("#namesList").empty();
                    $("#firstLetterList").empty();
                    if (data.length == 0) {
                        $("#namesList").append("No results");
                        $("#firstLetterList").append("No results");
                    }
                    else { 
                        data.forEach(function (element) {
                            $("#namesList").append(element.name + "\n");
                            $("#firstLetterList").append(element.nextCharacter + "\n");
                        });
                    }
                },
                error: function () {
                    $("#namesList").empty();
                    $("#firstLetterList").empty();
                    $("#namesList").append("<p>Error...</p>");
                }
            });
        });

    </script>
}

@Html.AntiForgeryToken()
    <div class="row">
        <div class="col-md-3">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h2>Enter Text</h2>
                        <div id="custom-search-input">
                            <div class="input-group col-md-12">
                                <input id="txt_search" type="text" class="form-control input-lg" placeholder="Buscar" />
                                <span class="input-group-btn">
                                    <button id="btn_search" class="btn btn-info btn-lg" type="button">
                                        <i class="glyphicon glyphicon-search"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <div style="margin-top:10px;" class="row">
            <div class="form-group">
                <label for="comment">Result List:</label>
                <textarea style="width:50%" class="form-control" rows="5" id="namesList"></textarea>
            </div>
        </div>
        <div class="row">
            <div class="form-group">
                <label for="comment">Next Character List:</label>
                <textarea style="width:50%" class="form-control" rows="5" id="firstLetterList"></textarea>
            </div>
        </div>
